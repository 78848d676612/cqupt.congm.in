var radius=100,dtr=Math.PI/180,d=200,mcList=[],active=!0,lasta=1,lastb=1,distr=!0,tspeed=1.5,size=250,mouseX=10,mouseY=10,howElliptical=1,aA=null,oDiv=null;window.onload=function(){var a=0,b=null;oDiv=document.getElementById("tagsList");aA=oDiv.getElementsByTagName("a");for(a=0;a<aA.length;a++)b={},b.offsetWidth=aA[a].offsetWidth,b.offsetHeight=aA[a].offsetHeight,mcList.push(b);sineCosine(0,0,0);positionAll();document.onmousemove=function(a){a=window.event||a;mouseX=a.clientX-(oDiv.offsetLeft+oDiv.offsetWidth/2);mouseY=a.clientY-(oDiv.offsetTop+oDiv.offsetHeight/2);mouseX/=5;mouseY/=5};setInterval(update,30);oDiv.style.visibility="visible"};function update(){var a,b;active?(a=-Math.min(Math.max(-mouseY,-size),size)/radius*tspeed,b=Math.min(Math.max(-mouseX,-size),size)/radius*tspeed):(a=.98*lasta,b=.98*lastb);lasta=a;lastb=b;.2>=Math.abs(a)&&.2>=Math.abs(b)&&(b=a=.2);sineCosine(a,b,0);for(a=0;a<mcList.length;a++){var c=mcList[a].cx,e=mcList[a].cy*sa+mcList[a].cz*ca,f=c*cb+e*sb,g=mcList[a].cy*ca+mcList[a].cz*-sa;b=f*cc+g*-sc;f=f*sc+g*cc;c=c*-sb+e*cb;mcList[a].cx=b;mcList[a].cy=f;mcList[a].cz=c;per=d/(d+c);mcList[a].x=howElliptical*b*per-2*howElliptical;mcList[a].y=f*per;mcList[a].scale=per;mcList[a].alpha=per;mcList[a].alpha=20/11*(mcList[a].alpha-.55)}doPosition();depthSort()}function depthSort(){for(var a=0,b=[],a=0;a<aA.length;a++)b.push(aA[a]);b.sort(function(a,b){return a.cz>b.cz?-1:a.cz<b.cz?1:0});for(a=0;a<b.length;a++)b[a].style.zIndex=a}function positionAll(){for(var a=0,b=0,c=mcList.length,e=0,a=[],b=document.createDocumentFragment(),e=0;e<aA.length;e++)a.push(aA[e]);a.sort(function(){return.5>Math.random()?1:-1});for(e=0;e<a.length;e++)b.appendChild(a[e]);oDiv.appendChild(b);for(e=1;e<c+1;e++)distr?(a=Math.acos(-1+(2*e-1)/c),b=Math.sqrt(c*Math.PI)*a):(a=Math.random()*Math.PI,b=2*Math.random()*Math.PI),mcList[e-1].cx=radius*Math.cos(b)*Math.sin(a),mcList[e-1].cy=radius*Math.sin(b)*Math.sin(a),mcList[e-1].cz=radius*Math.cos(a),aA[e-1].style.left=mcList[e-1].cx+oDiv.offsetWidth/2-mcList[e-1].offsetWidth/2+"px",aA[e-1].style.top=mcList[e-1].cy+oDiv.offsetHeight/2-mcList[e-1].offsetHeight/2+"px"}function doPosition(){for(var a=oDiv.offsetWidth/2,b=oDiv.offsetHeight/2,c=0;c<mcList.length;c++)aA[c].style.left=mcList[c].cx+a-mcList[c].offsetWidth/2+"px",aA[c].style.top=mcList[c].cy+b-mcList[c].offsetHeight/2+"px",aA[c].style.fontSize=Math.ceil(12*mcList[c].scale/2)+8+"px",aA[c].style.filter="alpha(opacity="+100*mcList[c].alpha+")",aA[c].style.opacity=mcList[c].alpha}function sineCosine(a,b,c){sa=Math.sin(a*dtr);ca=Math.cos(a*dtr);sb=Math.sin(b*dtr);cb=Math.cos(b*dtr);sc=Math.sin(c*dtr);cc=Math.cos(c*dtr)};